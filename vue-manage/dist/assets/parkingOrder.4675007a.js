import{f as e,b as l,q as t,r as a,M as i,o as r,h as s,i as n,k as o,l as d,F as u,j as c,c as p,I as m,m as h,w as g,v as _,t as b,p as w,L as f}from"./vendor.ac52fd94.js";import{U as y}from"./UE.013b43f7.js";import{_ as k,F as v,bp as V,a5 as C,a6 as D,l as x,bq as z}from"./index.1d57ac4a.js";import{p as I,a as S,e as T,b as U,c as N,d as O,u as q}from"./roadParkingOrder.721e77c8.js";import{m as L}from"./parkingOrder.a8222210.js";import{g as H}from"./fapiao.bf772239.js";import{F as j}from"./file_url.ec979fed.js";const M={name:"parkingOrder",components:{Ueditor:y},data:()=>({liHide:!1,isShow:!1,isShowInfo:!0,stopTime:!1,tableH:0}),setup(){const a=e({phone:"",status:"",orderNo:"",carNo:"",startTime:"",endTime:"",checked:!1,pageIndex:1,pageSize:15,type:"",streetId:"",areaId:"",placeId:"",free_type:""});let i=e({areas:[],streets:[],parks:[]});const r=l([]),s=l(0),n=l(0),o=l([]),d=l(!1),u=()=>{U(a).then((e=>{console.log(e.data),r.value=e.data.list,s.value=e.data.total}))};u();const c=l(!1),p=l([]),m=l(!1),h=l({});let g=l({time:"",time1:""});const _=e=>`${e.getFullYear()}-${e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1)}-${e.getDate()>=10?e.getDate():"0"+e.getDate()}`,b=e=>{if(null!=e&&null!=e){var l=new Date(e),t=l.getFullYear(),a=l.getMonth()+1,i=l.getDate(),r=l.getHours(),s=l.getMinutes(),n=l.getSeconds();return t+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i)+" "+(r<10?"0"+r:r)+":"+(s<10?"0"+s:s)+":"+(n<10?"0"+n:n)}};let w=e({model:"",parkingOrderOpengateList:[],openGateList:[]}),y=e({is_del:"0",dict_type:"openGateType"});const k=j.file_hx_img_url;console.log(k);const I=e({order_no:"",car_no:"",opengate_type:"",pageIndex:1,pageSize:10}),S=()=>{z(I).then((e=>{console.log(e.data),o.value=e.data.list,n.value=e.data.total}))};V().then((e=>{w.model=e.data}));const T=l(!1),M=l({});let P=e({id:"",car_id:"",order_no:"",car_type:"",road_name:"",berth:"",car_no:"",drivein_time:"",driveout_time:"",resitime:"",sum_amount:"",state_name:"",checked:!1,startTime:"",endTime:"",source_type:"",company_name:"",create_time:"",time:""});const R=e({}),F=()=>{C(R).then((e=>{i.areas=e.data}))};F();let $=e({areaId:a.areaId});const K=l([]);v(e({dict_type:"car_type"})).then((e=>{K.value=e.data}));const G=l(!1),B=l(""),E=l(""),A=l([]),Q=()=>{H(e({type:"free_type"})).then((e=>{A.value=e.data}))};return Q(),{query:a,imgViewUrl:k,carType:K,tableData:r,pageTotal:s,pageTotal1:n,parkOrderOpengate:I,editVisible:T,form:P,mergeVisible:c,mergeData:p,orderDetail:m,mergeDetail:h,imgurl:e=>{if(""!=e&&null!=e)return e},todoList:o,specialVisible:d,autoVisible:G,fxReason:B,orderId:E,autoGoBtn:(e,l)=>{B.value="",E.value=l.id,G.value=!0},parkDetails:M,result:w,timeData:g,rowclick:e=>{var l=e.carNo;a.carNo=l,u()},getMergeOrder:(l,t)=>{L(e({orderId:t.id})).then((e=>{p.value=e.data})),c.value=!0,m.value=!1},getData:u,getQueryDate:()=>{null==g.value.time||[]==g.value.time||""==g.value.time?(a.startTime="",a.endTime=""):(a.startTime=_(g.value.time[0]),a.endTime=_(g.value.time[1]))},getQueryDate1:()=>{null==g.value.time1||[]==g.value.time1||""==g.value.time1?P.driveout_time="":P.driveout_time=b(g.value.time1)},handleEdit:(l,t)=>{N(e({id:t.id})).then((e=>{M.value=e.data})),T.value=!0},handleSearch:()=>{a.pageIndex=1,u()},handleSearch1:()=>{I.pageIndex=1,S()},handleSpecial:(e,l)=>{v(y).then((e=>{console.log(e),w.openGateList=e.data})),S(),d.value=!0},handlePageChange:e=>{a.pageIndex=e,u()},handlePageChange1:e=>{I.pageIndex=e,S()},handleCurrentChange:l=>{l&&(N(e({id:l.parking_order_id})).then((e=>{h.value=e.data})),m.value=!0)},multipleSelection:[],dialogImageUrl:"",ppVisible:!1,isActive:!1,activeName:"first",formqjl:i,getArea:F,getStreet:()=>{""==a.areaId?(i.streets=[],i.parks=[],a.streetId="",a.placeId=""):(a.streetId="",a.placeId="",i.parks=[],$.areaId=a.areaId,D($).then((e=>{i.streets=e.data})))},getPark:()=>{""==a.streetId?(i.parks=[],a.placeId=""):(i.parks=[],a.placeId="",x(e({streetId:a.streetId})).then((e=>{i.parks=e.data})))},handleDelete:(l,a)=>{f.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{let l=e({is_del:"1",orderNo:a.orderNo,id:a.id});O(l).then((e=>{console.log(e),t.success("删除成功")})).then((()=>{u()}))})).catch((()=>{}))},freeTypeList:A,getDictsFreeType:Q,handleFx:(l,a)=>{let i=e({fxReason:B.value,id:E});if(console.log(i),""==B.value)return t.error("请填写放行理由"),!1;q(i).then((e=>{console.log(e),t.success("放行成功")})).then((()=>{G.value=!1,u()}))}}},methods:{handleRemove(e,l){},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.ppVisible=!0},handleSelectionChange(e){this.selectedData=e},endTimeTK(){this.stopTime=!this.stopTime,this.surevb=!0},endTimeMethod(){let l=this,a=e({id:l.parkDetails.id,driveout_time:l.form.driveout_time});I(a).then((e=>{0==e.code?(t.success(e.msg),l.editVisible=!1,l.getData()):t.success(e.msg)}))},carUpdDate(){this.isShow=!this.isShow,this.isShowInfo=!this.isShowInfo},changeisShowInfo(l){var a=this;this.isShow=!this.isShow,this.isShowInfo=!this.isShowInfo,1==l&&S(e({id:a.parkDetails.id,car_id:a.parkDetails.car_id,car_no:a.parkDetails.car_no,car_type:a.parkDetails.car_type})).then((e=>{0==e.code?t.success(e.msg):t.error(e.msg)}))},closeBtn(e,l){var t=this;t.stopTime=!1,t.liHide=!1,t.isShow=!1,t.isShowInfo=!0,t.timeData.time1="",t.surevb=!1,t.handleEdit(e,l)},exportParking(){t.success("正在下载中·····"),this.query.type="1",T(this.query).then((e=>{const l=window.URL.createObjectURL(new Blob([e])),t=document.createElement("a");t.href=l,t.setAttribute("download","停车订单.xls"),document.body.appendChild(t),t.click()}))}},created(){let e=document.documentElement.clientHeight||document.body.clientHeight;this.tableH=e-308+"px"}},P={class:"container"},R={class:"handle-box"},F={class:"left-panel"},$={class:"pagination"},K={class:"mgt20"},G=n("p",{class:"order-title"},[n("i",{class:"el-icon-s-grid"}),h("详情")],-1),B={class:"desctable mgb20 w"},E=n("td",{class:"tit",width:"60"},"订单号",-1),A=n("td",{class:"tit",width:"80"},"订单状态",-1),Q=n("td",{class:"tit",width:"60"},"停留时间",-1),Y=n("td",{class:"tit",width:"80"},"费用",-1),W=n("td",{class:"tit",width:"60"},"停车地点",-1),J=n("td",{class:"tit",width:"60"},"泊位号",-1),X=n("td",{class:"tit",width:"60"},"车牌号码",-1),Z=n("td",{class:"tit",width:"60"},"车牌类型",-1),ee=n("td",{class:"tit",width:"80"},"车主手机号",-1),le=n("td",{class:"tit",width:"60"},"订单来源",-1),te={key:0},ae={key:1},ie=n("td",{class:"tit",width:"80"},"创建时间",-1),re=n("td",{class:"tit",width:"80"},"免单类型",-1),se=n("td",{class:"tit",width:"60"},"进场时间",-1),ne=n("td",{class:"tit",width:"80"},"进场照片",-1),oe=n("td",{class:"tit",width:"60"},"离场时间",-1),de=n("td",{class:"tit",width:"80"},"离场照片",-1),ue={class:"dialog-footer"},ce=n("div",{class:"mt20"},null,-1),pe={class:"desctable mgb20 w"},me=n("td",{class:"tit",width:"60"},"订单号",-1),he=n("td",{class:"tit",width:"80"},"订单状态",-1),ge=n("td",{class:"tit",width:"60"},"停留时间",-1),_e=n("td",{class:"tit",width:"80"},"费用",-1),be=n("td",{class:"tit",width:"60"},"停车地点",-1),we={colspan:"3"},fe={key:0},ye=n("td",{class:"tit",width:"60"},"车牌号码",-1),ke={colspan:"3"},ve=n("td",{class:"tit",width:"60"},"车牌类型",-1),Ve=n("td",{class:"tit",width:"80"},"车主手机号",-1),Ce=n("td",{class:"tit",width:"60"},"订单来源",-1),De={key:0},xe={key:1},ze=n("td",{class:"tit",width:"80"},"创建时间",-1),Ie=n("td",{class:"tit",width:"60"},"进场时间",-1),Se=n("td",{class:"tit",width:"80"},"离场时间",-1),Te=n("td",{class:"tit",width:"60"},"放行理由",-1),Ue={colspan:"3"},Ne=n("div",{class:"mt20"},null,-1),Oe={class:"desctable mgb20 w"},qe={key:0},Le=n("td",{class:"tit",width:"60"},"进场照片",-1),He={colspan:"3"},je={key:1},Me=n("td",{class:"tit",width:"60"},"离场照片",-1),Pe={colspan:"3"},Re={class:"dialog-footer"},Fe={class:"handle-box"},$e={class:"left-panel"},Ke=n("div",{class:"clear"},null,-1),Ge={class:"todo-item"},Be={key:0},Ee={key:1},Ae={key:2},Qe={class:"todo-item"},Ye={class:"todo-item"},We={class:"todo-item"},Je={class:"todo-item"},Xe={class:"todo-item"},Ze={class:"todo-item"},el={class:"pagination"},ll={class:"dialog-footer"},tl={class:"dialog-footer"};var al=k(M,[["render",function(e,l,t,f,y,k){const v=a("el-option"),V=a("el-select"),C=a("el-form-item"),D=a("el-input"),x=a("el-checkbox"),z=a("el-date-picker"),I=a("el-button"),S=a("el-form"),T=a("el-table-column"),U=a("el-tag"),N=a("el-table"),O=a("el-pagination"),q=a("el-image"),L=a("el-dialog"),H=a("el-tab-pane"),j=a("el-tabs"),M=i("permission");return r(),s("div",null,[n("div",P,[n("div",R,[n("div",F,[o(S,{inline:"","label-width":"80",size:"small",class:"lineH0"},{default:d((()=>[o(C,{label:"停车场"},{default:d((()=>[o(V,{clearable:"",modelValue:f.query.placeId,"onUpdate:modelValue":l[0]||(l[0]=e=>f.query.placeId=e),filterable:"",size:"small",placeholder:"所有停车场",class:"w100"},{default:d((()=>[(r(!0),s(u,null,c(f.formqjl.parks,(e=>(r(),p(v,{key:e.id,label:e.park_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(C,{label:"车牌号",class:"search-mb0"},{default:d((()=>[o(D,{onKeyup:l[1]||(l[1]=m((e=>f.handleSearch()),["enter"])),size:"small",modelValue:f.query.carNo,"onUpdate:modelValue":l[2]||(l[2]=e=>f.query.carNo=e),placeholder:"车牌号",class:"w100"},null,8,["modelValue"])])),_:1}),o(C,{label:"",class:"search-mb0"},{default:d((()=>[o(x,{modelValue:f.query.checked,"onUpdate:modelValue":l[3]||(l[3]=e=>f.query.checked=e)},{default:d((()=>[h("黄牌")])),_:1},8,["modelValue"])])),_:1}),o(C,{label:"订单号",class:"search-mb0"},{default:d((()=>[o(D,{onKeyup:l[4]||(l[4]=m((e=>f.handleSearch()),["enter"])),size:"small",placeholder:"订单号",modelValue:f.query.orderNo,"onUpdate:modelValue":l[5]||(l[5]=e=>f.query.orderNo=e)},null,8,["modelValue"])])),_:1}),o(C,{label:"订单状态",class:"search-mb0"},{default:d((()=>[o(V,{clearable:"",modelValue:f.query.status,"onUpdate:modelValue":l[6]||(l[6]=e=>f.query.status=e),filterable:"",size:"small",class:"w100"},{default:d((()=>[o(v,{key:"1",label:"在停 ",value:"1"}),o(v,{key:"2",label:"待缴费 ",value:"2"}),o(v,{key:"3",label:"已缴费 ",value:"3"}),o(v,{key:"4",label:"已完成 ",value:"4"})])),_:1},8,["modelValue"])])),_:1}),o(C,{label:"免单类型",class:"search-mb0"},{default:d((()=>[o(V,{clearable:"",modelValue:f.query.free_type,"onUpdate:modelValue":l[7]||(l[7]=e=>f.query.free_type=e),filterable:"",size:"small",class:"w100"},{default:d((()=>[(r(!0),s(u,null,c(f.freeTypeList,(e=>(r(),p(v,{key:e.dc_value,label:e.label,value:e.dc_value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(C,{label:"手机号",class:"search-mb0"},{default:d((()=>[o(D,{onKeyup:l[8]||(l[8]=m((e=>f.handleSearch()),["enter"])),size:"small",modelValue:f.query.phone,"onUpdate:modelValue":l[9]||(l[9]=e=>f.query.phone=e),placeholder:"手机号",class:"w100"},null,8,["modelValue"])])),_:1}),o(C,{label:"停入时间",class:""},{default:d((()=>[o(z,{modelValue:f.timeData.time,"onUpdate:modelValue":l[10]||(l[10]=e=>f.timeData.time=e),placeholder:"",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",onChange:f.getQueryDate},null,8,["modelValue","onChange"])])),_:1}),o(C,{label:"",class:""},{default:d((()=>[o(I,{size:"small",type:"primary",icon:"el-icon-search",onClick:f.handleSearch},{default:d((()=>[h("查询 ")])),_:1},8,["onClick"])])),_:1}),g(o(C,{label:"",class:""},{default:d((()=>[g((r(),p(I,{size:"small",icon:"el-icon-upload2",type:"success",onClick:k.exportParking},{default:d((()=>[h("导出 ")])),_:1},8,["onClick"])),[[M,"park_parkingorder_excel"]])])),_:1},512),[[_,1==f.result.model]]),g(n("div",null,[o(C,{label:"",class:"search-mb0"},{default:d((()=>[o(V,{modelValue:f.form.selvalue,"onUpdate:modelValue":l[11]||(l[11]=e=>f.form.selvalue=e),filterable:"",size:"small",placeholder:"所有区域",class:"w100"},{default:d((()=>[(r(!0),s(u,null,c(f.form.czroptions,(e=>(r(),p(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(C,{label:"",class:"search-mb0"},{default:d((()=>[o(V,{modelValue:f.form.selvalue,"onUpdate:modelValue":l[12]||(l[12]=e=>f.form.selvalue=e),filterable:"",size:"small",placeholder:"所有区域",class:"w100"},{default:d((()=>[(r(!0),s(u,null,c(f.form.czroptions,(e=>(r(),p(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(C,{label:"",class:"search-mb0"},{default:d((()=>[o(V,{modelValue:f.form.selvalue,"onUpdate:modelValue":l[13]||(l[13]=e=>f.form.selvalue=e),filterable:"",size:"small",placeholder:"所有区域",class:"w100"},{default:d((()=>[(r(!0),s(u,null,c(f.form.czroptions,(e=>(r(),p(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})],512),[[_,f.isActive]])])),_:1})])]),o(N,{data:f.tableData,border:"",class:"table","max-height":y.tableH,ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:k.handleSelectionChange,onRowDblclick:f.rowclick},{default:d((()=>[o(T,{label:"序号",width:"55",align:"center"},{default:d((e=>[h(b(e.$index+1),1)])),_:1}),o(T,{prop:"orderNo",label:"订单号",width:"200",align:"center"}),o(T,{prop:"placeName",label:"停车场","min-width":"200",align:"center"}),o(T,{prop:"carNo",label:"车牌号",width:"110",align:"center"},{default:d((e=>["1"==e.row.car_type?(r(),p(U,{key:0,size:"small",textContent:b(e.row.carNo)},null,8,["textContent"])):"2"==e.row.car_type?(r(),p(U,{key:1,size:"small",type:"success",textContent:b(e.row.carNo)},null,8,["textContent"])):"3"==e.row.car_type?(r(),p(U,{key:2,size:"small",type:"warning",textContent:b(e.row.carNo)},null,8,["textContent"])):w("",!0)])),_:1}),o(T,{prop:"phone",label:"手机号",width:"120",align:"center"}),o(T,{prop:"driveinTime",label:"停入时间",width:"180",align:"center"}),o(T,{prop:"driveoutTime",label:"离场时间",align:"center",width:"180"}),o(T,{prop:"resitime",width:"130",align:"center",label:"停留时间"}),o(T,{prop:"sum_amount",label:"停车费用",width:"100",align:"center"}),o(T,{prop:"free_type",label:"免单类型",width:"100",align:"center"}),o(T,{prop:"is_merge",label:"合并订单",width:"100",align:"center"},{default:d((e=>["1"==e.row.is_merge?(r(),p(I,{key:0,type:"text",size:"mini",icon:"el-icon-tickets",onClick:l=>f.getMergeOrder(e.$index,e.row)},{default:d((()=>[h("合并记录 ")])),_:2},1032,["onClick"])):(r(),p(I,{key:1,type:"text",size:"mini",icon:"el-icon-tickets",disabled:""},{default:d((()=>[h("合并记录 ")])),_:1}))])),_:1}),o(T,{prop:"status_name",label:"状态",width:"100",align:"center"},{default:d((e=>["1"==e.row.status?(r(),p(U,{key:0,size:"small",textContent:b(e.row.status_name)},null,8,["textContent"])):"2"==e.row.status?(r(),p(U,{key:1,size:"small",type:"success",textContent:b(e.row.status_name)},null,8,["textContent"])):"3"==e.row.status?(r(),p(U,{key:2,size:"small",type:"warning",textContent:b(e.row.status_name)},null,8,["textContent"])):"4"==e.row.status?(r(),p(U,{key:3,size:"small",type:"danger",textContent:b(e.row.status_name)},null,8,["textContent"])):w("",!0)])),_:1}),y.liHide?(r(),p(T,{key:0,prop:"car_type"})):w("",!0),y.liHide?(r(),p(T,{key:1,prop:"create_time"})):w("",!0),y.liHide?(r(),p(T,{key:2,prop:"source_type"})):w("",!0),y.liHide?(r(),p(T,{key:3,prop:"car_id"})):w("",!0),o(T,{label:"操作",width:"220",fixed:"right",align:"center"},{default:d((e=>[o(I,{size:"mini",type:"text",icon:"el-icon-set-up",disabled:"2"!=e.row.status,onClick:l=>f.autoGoBtn(e.$index,e.row)},{default:d((()=>[h("人工放行 ")])),_:2},1032,["disabled","onClick"]),g((r(),p(I,{size:"mini",type:"text",icon:"el-icon-view",onClick:l=>k.closeBtn(e.$index,e.row)},{default:d((()=>[h("详情 ")])),_:2},1032,["onClick"])),[[M,"park_parkingorder_details"]]),g((r(),p(I,{size:"mini",type:"text",icon:"el-icon-delete",onClick:l=>f.handleDelete(e.$index,e.row),class:"red"},{default:d((()=>[h("删除 ")])),_:2},1032,["onClick"])),[[M,"park_parkingorder_del"]])])),_:1})])),_:1},8,["data","max-height","onSelectionChange","onRowDblclick"]),n("div",$,[o(O,{background:"",layout:"total, prev, pager, next","current-page":f.query.pageIndex,"page-size":f.query.pageSize,total:f.pageTotal,onCurrentChange:f.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),o(L,{title:"查看合并订单",modelValue:f.mergeVisible,"onUpdate:modelValue":l[15]||(l[15]=e=>f.mergeVisible=e),width:"70%"},{footer:d((()=>[n("span",ue,[o(I,{onClick:l[14]||(l[14]=e=>f.mergeVisible=!1)},{default:d((()=>[h("取 消")])),_:1})])])),default:d((()=>[o(N,{data:f.mergeData,border:"",class:"table",ref:"multipleTable",height:"260","highlight-current-row":"",onCurrentChange:f.handleCurrentChange,"header-cell-class-name":"table-header"},{default:d((()=>[o(T,{type:"index",label:"序号",width:"55",align:"center"}),o(T,{prop:"orderNo",label:"订单号",align:"center",width:"190"}),o(T,{prop:"parkName",label:"停车场",align:"center",minWidth:"180"}),o(T,{prop:"berth",label:"泊位编号",width:"180",align:"center"}),o(T,{prop:"carNo",label:"车牌号",width:"120",align:"center"},{default:d((e=>["1"==e.row.car_type?(r(),p(U,{key:0,size:"small",textContent:b(e.row.carNo)},null,8,["textContent"])):"2"==e.row.car_type?(r(),p(U,{key:1,size:"small",type:"success",textContent:b(e.row.carNo)},null,8,["textContent"])):"3"==e.row.car_type?(r(),p(U,{key:2,size:"small",type:"warning",textContent:b(e.row.carNo)},null,8,["textContent"])):w("",!0)])),_:1}),o(T,{prop:"driveinTime",label:"停入时间",width:"180",align:"center"}),o(T,{prop:"driveoutTime",label:"离场时间",width:"180",align:"center"}),o(T,{prop:"resitime",width:"100",label:"停留时间",align:"center"}),o(T,{prop:"sum_amount",label:"停车费用",width:"90",align:"center"})])),_:1},8,["data","onCurrentChange"]),g(n("div",K,[G,n("table",B,[n("tr",null,[E,n("td",null,b(f.mergeDetail.order_no),1),A,n("td",null,[o(U,{type:"success"},{default:d((()=>[h(b(f.mergeDetail.statusName),1)])),_:1})]),Q,n("td",null,b(f.mergeDetail.resitime),1),Y,n("td",null,[o(U,{type:"danger"},{default:d((()=>[h(b(f.mergeDetail.sum_amount),1)])),_:1})])]),n("tr",null,[W,n("td",null,b(f.mergeDetail.road_name),1),J,n("td",null,b(f.mergeDetail.berth),1),X,n("td",null,b(f.mergeDetail.car_no),1),Z,n("td",null,b(f.mergeDetail.carType),1)]),n("tr",null,[ee,n("td",null,b(f.mergeDetail.phone),1),le,"1"==f.mergeDetail.source?(r(),s("td",te,"视频采集")):(r(),s("td",ae,"人工")),ie,n("td",null,b(f.mergeDetail.create_time),1),re,n("td",null,b(f.mergeDetail.free_type),1)]),n("tr",null,[se,n("td",null,b(f.mergeDetail.drivein_time),1),ne,n("td",null,[(r(!0),s(u,null,c(f.mergeDetail.scList,((e,l)=>(r(),p(q,{key:l,style:{width:"100px",height:"100px"},src:f.imgurl(e.file_url),class:"ml5","hide-on-click-modal":"true","preview-teleported":"true","preview-src-list":[f.imgurl(e.file_url)]},null,8,["src","preview-src-list"])))),128))]),oe,n("td",null,b(f.mergeDetail.driveout_time),1),de,n("td",null,[(r(!0),s(u,null,c(f.mergeDetail.slList,((e,l)=>(r(),p(q,{key:l,style:{width:"100px",height:"100px"},src:f.imgurl(e.file_url),class:"ml5","hide-on-click-modal":"true","preview-teleported":"true","preview-src-list":[f.imgurl(e.file_url)]},null,8,["src","preview-src-list"])))),128))])])])],512),[[_,f.orderDetail]])])),_:1},8,["modelValue"]),o(L,{title:"查看详情",modelValue:f.editVisible,"onUpdate:modelValue":l[23]||(l[23]=e=>f.editVisible=e),width:"40%"},{footer:d((()=>[n("span",Re,[o(I,{onClick:l[22]||(l[22]=e=>f.editVisible=!1)},{default:d((()=>[h("取 消")])),_:1}),g(o(I,{type:"primary",onClick:k.endTimeMethod},{default:d((()=>[h("确 定")])),_:1},8,["onClick"]),[[_,e.surevb]]),null!=f.form.driveout_time&&null!=f.form.driveout_time&&""!=f.form.driveout_time||1!=f.parkDetails.status?w("",!0):g((r(),p(I,{key:0,type:"danger",onClick:k.endTimeTK},{default:d((()=>[h("结束计时")])),_:1},8,["onClick"])),[[_,!e.surevb]])])])),default:d((()=>[o(j,{type:"card",modelValue:f.activeName,"onUpdate:modelValue":l[20]||(l[20]=e=>f.activeName=e)},{default:d((()=>[o(H,{label:"基本信息",name:"first"},{default:d((()=>[ce,n("table",pe,[n("tr",null,[me,n("td",null,b(f.parkDetails.order_no),1),he,n("td",null,[o(U,{type:"success"},{default:d((()=>[h(b(f.parkDetails.statusName),1)])),_:1})])]),n("tr",null,[ge,n("td",null,b(f.parkDetails.resitime),1),_e,n("td",null,[o(U,{type:"danger"},{default:d((()=>[h(b(f.parkDetails.sum_amount?f.parkDetails.sum_amount:"0"),1)])),_:1})])]),n("tr",null,[be,n("td",we,b(f.parkDetails.road_name),1)]),1==f.parkDetails.status||2==f.parkDetails.status?(r(),s("tr",fe,[ye,n("td",ke,[g(n("div",null,[n("span",null,b(f.parkDetails.car_no),1),o(I,{size:"small",class:"ml5",type:"primary",icon:"el-icon-edit",onClick:k.carUpdDate},{default:d((()=>[h("修改车牌号码 ")])),_:1},8,["onClick"])],512),[[_,y.isShowInfo]]),g(n("div",null,[o(D,{modelValue:f.parkDetails.car_no,"onUpdate:modelValue":l[16]||(l[16]=e=>f.parkDetails.car_no=e),class:"w100",size:"small"},null,8,["modelValue"]),o(V,{modelValue:f.parkDetails.car_type,"onUpdate:modelValue":l[17]||(l[17]=e=>f.parkDetails.car_type=e),filterable:"",size:"small",placeholder:"车牌分类",class:"w100 ml5"},{default:d((()=>[(r(!0),s(u,null,c(f.carType,(e=>(r(),p(v,{key:e.dc_value,label:e.label,value:e.dc_value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),o(I,{size:"small",class:"ml5",type:"primary",icon:"el-icon-check",onClick:l[18]||(l[18]=e=>k.changeisShowInfo(1))},{default:d((()=>[h("确定 ")])),_:1}),o(I,{size:"small",icon:"el-icon-close",onClick:l[19]||(l[19]=e=>k.changeisShowInfo(2))},{default:d((()=>[h("取消 ")])),_:1})],512),[[_,y.isShow]])])])):w("",!0),n("tr",null,[ve,n("td",null,b(f.parkDetails.carType),1),Ve,n("td",null,b(f.parkDetails.phone),1)]),n("tr",null,[Ce,1==f.parkDetails.source?(r(),s("td",De,"视频采集")):(r(),s("td",xe,"人工")),ze,n("td",null,b(f.parkDetails.create_time),1)]),n("tr",null,[Ie,n("td",null,b(f.parkDetails.drivein_time),1),Se,n("td",null,b(f.parkDetails.driveout_time),1)]),n("tr",null,[Te,n("td",Ue,b(f.parkDetails.fxReason),1)])])])),_:1}),o(H,{label:"进出场信息",name:"second"},{default:d((()=>[Ne,n("table",Oe,[null!=f.parkDetails.scList&&f.parkDetails.scList.length>0?(r(),s("tr",qe,[Le,n("td",He,[(r(!0),s(u,null,c(f.parkDetails.scList,((e,l)=>(r(),p(q,{key:l,style:{width:"100px",height:"100px"},src:f.imgurl(e.file_url),class:"ml5","hide-on-click-modal":"true","preview-teleported":"true","preview-src-list":[f.imgurl(e.file_url)]},null,8,["src","preview-src-list"])))),128))])])):w("",!0),null!=f.parkDetails.slList&&f.parkDetails.slList.length>0?(r(),s("tr",je,[Me,n("td",Pe,[(r(!0),s(u,null,c(f.parkDetails.slList,((e,l)=>(r(),p(q,{key:l,style:{width:"100px",height:"100px"},src:f.imgurl(e.file_url),class:"ml5","hide-on-click-modal":"true","preview-teleported":"true","preview-src-list":[f.imgurl(e.file_url)]},null,8,["src","preview-src-list"])))),128))])])):w("",!0)])])),_:1})])),_:1},8,["modelValue"]),g(o(S,null,{default:d((()=>[o(C,{label:"结束计时时间"},{default:d((()=>[o(z,{modelValue:f.timeData.time1,"onUpdate:modelValue":l[21]||(l[21]=e=>f.timeData.time1=e),type:"datetime",onChange:f.getQueryDate1,placeholder:"选择日期时间"},null,8,["modelValue","onChange"])])),_:1})])),_:1},512),[[_,y.stopTime]])])),_:1},8,["modelValue"]),o(L,{title:"人工开闸",modelValue:f.specialVisible,"onUpdate:modelValue":l[30]||(l[30]=e=>f.specialVisible=e),width:"80%"},{footer:d((()=>[n("span",ll,[o(I,{onClick:l[29]||(l[29]=e=>f.specialVisible=!1)},{default:d((()=>[h("取 消")])),_:1})])])),default:d((()=>[n("div",Fe,[n("div",$e,[o(S,{inline:"","label-width":"80",size:"small"},{default:d((()=>[o(C,{label:"订单号"},{default:d((()=>[o(D,{onKeyup:l[24]||(l[24]=m((e=>f.handleSearch1()),["enter"])),size:"small",modelValue:f.parkOrderOpengate.order_no,"onUpdate:modelValue":l[25]||(l[25]=e=>f.parkOrderOpengate.order_no=e),placeholder:"订单号",class:"handle-input mr10"},null,8,["modelValue"])])),_:1}),o(C,{label:"车牌号"},{default:d((()=>[o(D,{onKeyup:l[26]||(l[26]=m((e=>f.handleSearch1()),["enter"])),size:"small",modelValue:f.parkOrderOpengate.car_no,"onUpdate:modelValue":l[27]||(l[27]=e=>f.parkOrderOpengate.car_no=e),placeholder:"车牌号",class:"handle-input mr10"},null,8,["modelValue"])])),_:1}),o(C,{label:"开闸类型"},{default:d((()=>[o(V,{modelValue:f.parkOrderOpengate.opengate_type,"onUpdate:modelValue":l[28]||(l[28]=e=>f.parkOrderOpengate.opengate_type=e),placeholder:"请选择",class:"w",clearable:""},{default:d((()=>[(r(!0),s(u,null,c(f.result.openGateList,((e,l)=>(r(),p(v,{key:l,label:e.label,value:e.dc_value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(C,null,{default:d((()=>[o(I,{size:"small",type:"primary",icon:"el-icon-search",onClick:f.handleSearch1},{default:d((()=>[h("查询 ")])),_:1},8,["onClick"])])),_:1})])),_:1})]),Ke]),o(N,{data:f.todoList,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:d((()=>[o(T,{pro:"ID",label:"ID",width:"55",align:"center"},{default:d((e=>[h(b(e.row.id),1)])),_:1}),o(T,{prop:"name",label:"订单号",align:"center"},{default:d((e=>[n("div",Ge,b(e.row.order_no),1)])),_:1}),o(T,{prop:"car_no",label:"车牌号",width:"200",align:"center"},{default:d((e=>["1"==e.row.car_type?(r(),p(U,{key:0,size:"small",textContent:b(e.row.car_no)},null,8,["textContent"])):"2"==e.row.car_type?(r(),p(U,{key:1,size:"small",type:"success",textContent:b(e.row.car_no)},null,8,["textContent"])):"3"==e.row.car_type?(r(),p(U,{key:2,size:"small",type:"warning",textContent:b(e.row.car_no)},null,8,["textContent"])):w("",!0)])),_:1}),o(T,{prop:"opengate_type",label:"开闸类型",width:"200",align:"center"},{default:d((e=>["1"==e.row.opengate_type?(r(),s("div",Be,"公务开闸")):"2"==e.row.opengate_type?(r(),s("div",Ee,"故障开闸")):"3"==e.row.opengate_type?(r(),s("div",Ae,"临时通行")):w("",!0)])),_:1}),o(T,{prop:"addtimes",label:"驶入时间",align:"center",width:"180"},{default:d((e=>[n("div",Qe,b(e.row.drivein_time),1)])),_:1}),o(T,{prop:"addtimes",label:"驶出时间",align:"center",width:"180"},{default:d((e=>[n("div",Ye,b(e.row.driveout_time),1)])),_:1}),o(T,{prop:"logintimes",label:"停车时长",align:"center"},{default:d((e=>[n("div",We,b(e.row.resi_time),1)])),_:1}),o(T,{prop:"logintimes",label:"人工开闸人",align:"center"},{default:d((e=>[n("div",Je,b(e.row.inspect_name),1)])),_:1}),o(T,{prop:"logintimes",label:"开闸备注",align:"center"},{default:d((e=>[n("div",Xe,b(e.row.memo),1)])),_:1}),o(T,{prop:"logintimes",label:"所属公司",align:"center"},{default:d((e=>[n("div",Ze,b(e.row.companyName),1)])),_:1}),o(T,{prop:"logintimes",label:"拍照",align:"center"},{default:d((e=>["1"==e.row.opengate_type?(r(),p(q,{key:0,class:"table-td-thumb",src:f.imgurl(e.row.file_url),"hide-on-click-modal":"true","preview-teleported":"true","preview-src-list":[f.imgurl(e.row.file_url)]},null,8,["src","preview-src-list"])):w("",!0)])),_:1})])),_:1},8,["data"]),n("div",el,[o(O,{background:"",layout:"total, prev, pager, next","current-page":f.parkOrderOpengate.pageIndex,"page-size":f.parkOrderOpengate.pageSize,total:f.pageTotal1,onCurrentChange:f.handlePageChange1},null,8,["current-page","page-size","total","onCurrentChange"])])])),_:1},8,["modelValue"]),o(L,{title:"人工放行",modelValue:f.autoVisible,"onUpdate:modelValue":l[33]||(l[33]=e=>f.autoVisible=e),width:"500px"},{footer:d((()=>[n("span",tl,[o(I,{onClick:l[32]||(l[32]=e=>f.autoVisible=!1)},{default:d((()=>[h("取 消")])),_:1}),o(I,{onClick:f.handleFx,type:"primary"},{default:d((()=>[h("确 定")])),_:1},8,["onClick"])])])),default:d((()=>[o(S,{"label-width":"80",size:"small"},{default:d((()=>[o(C,{label:"理由"},{default:d((()=>[o(D,{size:"small",placeholder:"请输入放行理由",type:"textarea",row:"4",modelValue:f.fxReason,"onUpdate:modelValue":l[31]||(l[31]=e=>f.fxReason=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);export{al as default};
