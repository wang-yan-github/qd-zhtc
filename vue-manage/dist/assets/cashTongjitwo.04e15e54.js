import{f as e,b as a,r as t,o as l,h as n,i as r,k as i,l as o,m}from"./vendor.ac52fd94.js";import{i as s}from"./index.9abe9c67.js";import{_ as d,ak as p,al as u}from"./index.1d57ac4a.js";const c={name:"orderTongji",setup(){const t=e({timeType:"day",startTime:"",endTime:"",pageIndex:1,pageSize:15});e({time:[],rechargeAmount:[]});const l=a([]),n=a(0);let r=e({time:"",name:"",czroptions:[{value:"1",label:"平台管理员"},{value:"2",label:"管理员"},{value:"3",label:"车场"}],selvalue:"",date1:"",date2:""});const i=()=>{p(t).then((e=>{console.log(e),l.value=e.data.data.list,n.value=e.data.data.total,d.xAxis[0].data=e.data.time,d.series[0].data=e.data.rechargeAmount;var a=document.getElementById("main");s(a).setOption(d)}))};i();const o=e=>`${e.getFullYear()}-${e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1)}-${e.getDate()>=10?e.getDate():"0"+e.getDate()}`;let m=e({primaryNum:"1"});const d={title:{text:"充值增长分析",show:!0,textStyle:{fontSize:16,fontWeight:"normal",color:"#303133"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{},grid:{left:"10px",right:"10px",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["12-17","12-18","12-19","12-20","12-21","12-22","12-23"]}],yAxis:[{type:"value"}],series:[{name:"充值金额",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[120,132,101,134,90,230,210]}]};return{query:t,tableData:l,form:r,pageTotal:n,options4:d,day:()=>{m.primaryNum=1,t.timeType="day",i()},month:()=>{m.primaryNum=2,t.timeType="month",i()},year:()=>{m.primaryNum=3,t.timeType="year",i()},getQueryDate:()=>{null==r.time||[]==r.time||""==r.time?(t.startTime="",t.endTime=""):(t.startTime=o(r.time[0]),t.endTime=o(r.time[1]))},handleSearch:()=>{t.pageIndex=1,i()},handlePageChange:e=>{t.pageIndex=e,i()},exportExcel:()=>{u(t).then((e=>{const a=window.URL.createObjectURL(new Blob([e])),t=document.createElement("a");t.href=a,t.setAttribute("download","充值增长.xls"),document.body.appendChild(t),t.click()}))},primaryBtn:m}},methods:{goTo(){this.$router.push("/cashstatic")},goTo2(){this.$router.push("/cashstaticthree")},goTo3(){this.$router.push("/cashstaticfour")},init(){var e=document.getElementById("main");e.removeAttribute("_echarts_instance_"),s(e).setOption(this.options4)}},mounted(){this.init()}},y={class:"container"},g={class:"top-panel f-cb"},h={class:"left-panel"},f={class:"right-panel"},b=r("span",{class:"dispinline mlr5"},null,-1),x=r("div",{class:"clear"},null,-1),C={class:"pagination"},_=r("div",{id:"main",class:"schartmain"},null,-1);var v=d(c,[["render",function(e,a,s,d,p,u){const c=t("el-button"),v=t("el-button-group"),k=t("el-form-item"),T=t("el-date-picker"),B=t("el-form"),N=t("el-table-column"),V=t("el-table"),w=t("el-pagination"),z=t("el-card"),S=t("el-col"),A=t("el-row");return l(),n("div",null,[r("div",y,[r("div",g,[r("div",h,[i(k,{class:"mb0"},{default:o((()=>[i(v,null,{default:o((()=>[i(c,{icon:"el-icon-s-grid",onClick:a[0]||(a[0]=e=>u.goTo())},{default:o((()=>[m("收入报表")])),_:1}),i(c,{type:"primary",icon:"el-icon-s-marketing"},{default:o((()=>[m("充值增长")])),_:1}),i(c,{icon:"el-icon-money",onClick:a[1]||(a[1]=e=>u.goTo2())},{default:o((()=>[m("缴费方式统计")])),_:1}),i(c,{icon:"el-icon-s-custom",onClick:a[2]||(a[2]=e=>u.goTo3())},{default:o((()=>[m("免单统计")])),_:1})])),_:1})])),_:1})]),r("div",f,[i(B,{"label-width":"80px",inline:"",size:"small"},{default:o((()=>[i(k,{label:"时间"},{default:o((()=>[i(v,null,{default:o((()=>[i(c,{type:1==d.primaryBtn.primaryNum?"primary":"",plain:"",onClick:d.day,modelValue:d.primaryBtn.primaryNum,"onUpdate:modelValue":a[3]||(a[3]=e=>d.primaryBtn.primaryNum=e)},{default:o((()=>[m("日")])),_:1},8,["type","onClick","modelValue"]),i(c,{type:2==d.primaryBtn.primaryNum?"primary":"",plain:"",onClick:d.month,modelValue:d.primaryBtn.primaryNum,"onUpdate:modelValue":a[4]||(a[4]=e=>d.primaryBtn.primaryNum=e)},{default:o((()=>[m("月")])),_:1},8,["type","onClick","modelValue"]),i(c,{type:3==d.primaryBtn.primaryNum?"primary":"",plain:"",onClick:d.year,modelValue:d.primaryBtn.primaryNum,"onUpdate:modelValue":a[5]||(a[5]=e=>d.primaryBtn.primaryNum=e)},{default:o((()=>[m("年")])),_:1},8,["type","onClick","modelValue"])])),_:1}),b,i(T,{size:"small",modelValue:d.form.time,"onUpdate:modelValue":a[6]||(a[6]=e=>d.form.time=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:"datepicker",onChange:d.getQueryDate},null,8,["modelValue","onChange"])])),_:1}),i(k,null,{default:o((()=>[i(c,{size:"small",type:"primary",icon:"el-icon-search",onClick:d.handleSearch},{default:o((()=>[m("查询")])),_:1},8,["onClick"])])),_:1}),i(k,null,{default:o((()=>[i(c,{size:"small",type:"success",icon:"el-icon-upload2",onClick:d.exportExcel},{default:o((()=>[m("导出")])),_:1},8,["onClick"])])),_:1})])),_:1})]),x]),i(A,{gutter:20},{default:o((()=>[i(S,{span:12},{default:o((()=>[i(z,{shadow:"hover"},{default:o((()=>[i(V,{data:d.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header",onSelectionChange:e.handleSelectionChange},{default:o((()=>[i(N,{type:"index",label:"序号",width:"55",align:"center"}),i(N,{prop:"time",label:"充值时间",align:"center"}),i(N,{prop:"rechargeAmount",label:"充值金额",align:"center"}),i(N,{prop:"num",label:"笔数",align:"center"})])),_:1},8,["data","onSelectionChange"]),r("div",C,[i(w,{background:"",layout:"total, prev, pager, next","current-page":d.query.pageIndex,"page-size":d.query.pageSize,total:d.pageTotal,onCurrentChange:d.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])])),_:1})])),_:1}),i(S,{span:12},{default:o((()=>[i(z,{shadow:"hover"},{default:o((()=>[_])),_:1})])),_:1})])),_:1})])])}]]);export{v as default};
