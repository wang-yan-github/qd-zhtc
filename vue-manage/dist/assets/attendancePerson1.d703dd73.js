import{f as e,b as a,r as l,o as n,h as t,i as r,k as s,l as o,m as i,c,p}from"./vendor.ac52fd94.js";import{_ as d,cn as u,co as m}from"./index.1d57ac4a.js";const g={name:"attendancePerson",components:{},setup(){const l=localStorage.getItem("menuType"),n=e({pageIndex:1,pageSize:10,strTime:"",type:"1"}),t=e({date1:""});var r,s;r=new Date,(s=r.getMonth()+1)<10&&(s="0"+s),n.strTime=r.getFullYear().toString()+"-"+s.toString();const o=a([]),i=a(0),c=()=>{u(n).then((e=>{o.value=e.data.list,i.value=e.data.total}))};c();return{query:n,query2:t,tableData:o,pageTotal:i,handleSearch:()=>{n.pageIndex=1,c()},handlePageChange:e=>{n.pageIndex=e,c()},exportExcel:()=>{m(n).then((e=>{const a=window.URL.createObjectURL(new Blob([e])),l=document.createElement("a");l.href=a,l.setAttribute("download","考勤统计.xlsx"),document.body.appendChild(l),l.click()}))},menuType:l}},methods:{}},h={class:"container"},y={class:"handle-box"},b={class:"left-panel"},f=r("span",{class:"dispinline ml5 font14 color666"},"考勤日期：",-1),x=r("span",{class:"dispinline ml5"},null,-1),v=r("span",{class:"dispinline ml5"},null,-1),C=r("div",{class:"clear"},null,-1),T={class:"pagination"};var k=d(g,[["render",function(e,a,d,u,m,g){const k=l("el-date-picker"),Y=l("el-button"),z=l("el-form"),S=l("el-table-column"),q=l("el-table"),w=l("el-pagination");return n(),t("div",null,[r("div",h,[r("div",y,[r("div",b,[s(z,{inline:"",size:"small"},{default:o((()=>[f,s(k,{size:"small",modelValue:u.query.strTime,"onUpdate:modelValue":a[0]||(a[0]=e=>u.query.strTime=e),type:"month",format:"YYYY-MM","value-format":"YYYY-MM","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"]),x,s(Y,{size:"small",type:"primary",icon:"el-icon-search",onClick:u.handleSearch},{default:o((()=>[i("查询 ")])),_:1},8,["onClick"]),v,s(Y,{size:"small",type:"success",icon:"el-icon-upload2",onClick:u.exportExcel},{default:o((()=>[i("导出 ")])),_:1},8,["onClick"])])),_:1})]),C]),s(q,{data:u.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:o((()=>[s(S,{type:"index",label:"序号",width:"60",align:"center"}),"1"==u.menuType?(n(),c(S,{key:0,prop:"userName",label:"收费员",align:"center"})):p("",!0),"0"==u.menuType?(n(),c(S,{key:1,prop:"userName",label:"巡检员",align:"center"})):p("",!0),s(S,{prop:"days",label:"考勤天数",align:"center"}),s(S,{prop:"leaveEarlyDays",label:"早退天数",align:"center"}),s(S,{prop:"lateDays",label:"迟到天数",align:"center"}),s(S,{prop:"absenteeismDays",label:"缺勤天数",align:"center"})])),_:1},8,["data"]),r("div",T,[s(w,{background:"",layout:"total, prev, pager, next","current-page":u.query.pageIndex,"page-size":u.query.pageSize,total:u.pageTotal,onCurrentChange:u.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])])])}]]);export{k as default};
