import{f as e,b as a,r as l,M as n,o as t,h as r,i as s,k as o,l as i,m as c,w as p,c as d,p as u}from"./vendor.ac52fd94.js";import{_ as m,cn as g,co as h}from"./index.1d57ac4a.js";const y={name:"attendancePerson",components:{},setup(){const l=localStorage.getItem("menuType"),n=e({pageIndex:1,pageSize:10,strTime:"",type:"0"}),t=e({date1:""});var r,s;r=new Date,(s=r.getMonth()+1)<10&&(s="0"+s),n.strTime=r.getFullYear().toString()+"-"+s.toString();const o=a([]),i=a(0),c=()=>{g(n).then((e=>{o.value=e.data.list,i.value=e.data.total}))};c();return{query:n,query2:t,tableData:o,pageTotal:i,handleSearch:()=>{n.pageIndex=1,c()},handlePageChange:e=>{n.pageIndex=e,c()},exportExcel:()=>{h(n).then((e=>{const a=window.URL.createObjectURL(new Blob([e])),l=document.createElement("a");l.href=a,l.setAttribute("download","考勤统计.xlsx"),document.body.appendChild(l),l.click()}))},menuType:l}},methods:{}},b={class:"container"},f={class:"handle-box"},x={class:"left-panel"},v=s("span",{class:"dispinline ml5 font14 color666"},"考勤日期：",-1),k=s("span",{class:"dispinline ml5"},null,-1),C=s("span",{class:"dispinline ml5"},null,-1),T=s("div",{class:"clear"},null,-1),Y={class:"pagination"};var _=m(y,[["render",function(e,a,m,g,h,y){const _=l("el-date-picker"),z=l("el-button"),w=l("el-form"),S=l("el-table-column"),q=l("el-table"),D=l("el-pagination"),M=n("permission");return t(),r("div",null,[s("div",b,[s("div",f,[s("div",x,[o(w,{inline:"",size:"small"},{default:i((()=>[v,o(_,{size:"small",modelValue:g.query.strTime,"onUpdate:modelValue":a[0]||(a[0]=e=>g.query.strTime=e),type:"month",format:"YYYY-MM","value-format":"YYYY-MM","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"]),k,o(z,{size:"small",type:"primary",icon:"el-icon-search",onClick:g.handleSearch},{default:i((()=>[c("查询 ")])),_:1},8,["onClick"]),C,p((t(),d(z,{size:"small",type:"success",icon:"el-icon-upload2",onClick:g.exportExcel},{default:i((()=>[c("导出 ")])),_:1},8,["onClick"])),[[M,["road_person1_excel","park_person1_excel"]]])])),_:1})]),T]),o(q,{data:g.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:i((()=>[o(S,{type:"index",label:"序号",width:"60",align:"center"}),"1"==g.menuType?(t(),d(S,{key:0,prop:"userName",label:"收费员",align:"center"})):u("",!0),"0"==g.menuType?(t(),d(S,{key:1,prop:"userName",label:"巡检员",align:"center"})):u("",!0),o(S,{prop:"days",label:"考勤天数",align:"center"}),o(S,{prop:"leaveEarlyDays",label:"早退天数",align:"center"}),o(S,{prop:"lateDays",label:"迟到天数",align:"center"}),o(S,{prop:"absenteeismDays",label:"缺勤天数",align:"center"})])),_:1},8,["data"]),s("div",Y,[o(D,{background:"",layout:"total, prev, pager, next","current-page":g.query.pageIndex,"page-size":g.query.pageSize,total:g.pageTotal,onCurrentChange:g.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])])])}]]);export{_ as default};
