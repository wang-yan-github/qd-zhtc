import{f as e,u as l,r as a,o as d,h as t,k as s,l as o,m as u,i,F as r,j as n,c,q as m}from"./vendor.ac52fd94.js";import{_,b0 as p,b1 as v,a5 as f,a6 as b,U as h,F as V}from"./index.1d57ac4a.js";const g={name:"equipmentedit",components:{},setup(){let a=e({name:"",address:"",czroptions:[{value:"1",label:"平台管理员"},{value:"2",label:"管理员"},{value:"3",label:"车场"}],radio2:"男"}),d=e({area_list:[],street_list:[],road_list:[],device_types:[],device:{}});const t=l();let s=e({id:t.currentRoute.value.query.id});v(s).then((e=>{console.log("sss"),console.log(e.data),d.device=e.data}));const o=e({device_code:"",area_id:"",street_id:"",pageIndex:1,pageSize:10});f(o).then((e=>{d.area_list=e.data,console.log(e.data)}));b(o).then((e=>{d.street_list=e.data,console.log(e.data)}));h(o).then((e=>{console.log(e.data),d.road_list=e.data}));let u=e({is_del:"0",dict_type:"deviceType"});return V(u).then((e=>{console.log(e),d.device_types=e.data})),console.log(),{form:a,result:d,saveEdit:()=>{console.log(1111),p(d.device).then((e=>{console.log(e),m.success("修改成功")})).then((()=>{t.push({path:"equipmentList"})}))},query:o}},methods:{initMap(){var e=new window.TMap.LatLng(39.98412,116.307484);new window.TMap.Map("mapDiv",{zoom:18,center:e,baseMap:{}})}},mounted(){}},y=i("div",{class:"clearfix"},[i("span",null,"设备信息")],-1),w={class:"handle-box"},z=i("div",{class:"clearfix"},[i("span",null,"路内位置")],-1),x=i("span",{class:"color999"},"操作提示：http://lbs.qq.com/tool/getpoint/index.html，以腾讯位置服务坐标拾取为准。",-1),U=i("div",{id:"mapDiv"},null,-1);var k=_(g,[["render",function(e,l,m,_,p,v){const f=a("el-button"),b=a("el-col"),h=a("el-row"),V=a("el-input"),g=a("el-form-item"),k=a("el-option"),q=a("el-select"),M=a("el-form"),j=a("el-card");return d(),t("div",null,[s(h,{class:"mgb20"},{default:o((()=>[s(b,null,{default:o((()=>[s(f,{type:"primary",onClick:_.saveEdit},{default:o((()=>[u("提交")])),_:1},8,["onClick"])])),_:1})])),_:1}),s(h,{gutter:20,class:"mgb20"},{default:o((()=>[s(b,{span:12},{default:o((()=>[s(j,{shadow:"hover"},{header:o((()=>[y])),default:o((()=>[i("div",w,[s(M,{size:"small"},{default:o((()=>[s(g,{label:"设备编号"},{default:o((()=>[s(V,{size:"small",modelValue:_.result.device.device_code,"onUpdate:modelValue":l[0]||(l[0]=e=>_.result.device.device_code=e),placeholder:""},null,8,["modelValue"])])),_:1}),s(g,{label:"设备类型"},{default:o((()=>[s(q,{modelValue:_.result.device.device_type,"onUpdate:modelValue":l[1]||(l[1]=e=>_.result.device.device_type=e),filterable:"",size:"small",placeholder:"所有区域",class:"w"},{default:o((()=>[(d(!0),t(r,null,n(_.result.device_types,((e,l)=>(d(),c(k,{key:l,label:e.label,value:e.dc_value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(g,{label:"选择区域"},{default:o((()=>[s(q,{modelValue:_.result.device.area_id,"onUpdate:modelValue":l[2]||(l[2]=e=>_.result.device.area_id=e),filterable:"",size:"small",placeholder:"所有区域",class:"w"},{default:o((()=>[(d(!0),t(r,null,n(_.result.area_list,((e,l)=>(d(),c(k,{key:l,label:e.area_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(g,{label:"指定街道"},{default:o((()=>[s(q,{modelValue:_.result.device.street_id,"onUpdate:modelValue":l[3]||(l[3]=e=>_.result.device.street_id=e),filterable:"",size:"small",placeholder:"所有区域",class:"w"},{default:o((()=>[(d(!0),t(r,null,n(_.result.street_list,((e,l)=>(d(),c(k,{key:l,label:e.street_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(g,{label:"指定路内"},{default:o((()=>[s(q,{modelValue:_.result.device.road_id,"onUpdate:modelValue":l[4]||(l[4]=e=>_.result.device.road_id=e),filterable:"",size:"small",placeholder:"所有区域",class:"w"},{default:o((()=>[(d(!0),t(r,null,n(_.result.road_list,((e,l)=>(d(),c(k,{key:l,label:e.road_name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1})])),_:1}),s(b,{span:12},{default:o((()=>[s(j,{shadow:"hover"},{header:o((()=>[z])),default:o((()=>[s(M,{"label-width":"70px",size:"small"},{default:o((()=>[s(g,{label:"路内地址"},{default:o((()=>[s(V,{modelValue:_.result.device.address,"onUpdate:modelValue":l[5]||(l[5]=e=>_.result.device.address=e),placeholder:"",type:"textarea",rows:8},null,8,["modelValue"])])),_:1}),s(g,{label:"坐标范围"},{default:o((()=>[s(V,{modelValue:_.result.device.latitude,"onUpdate:modelValue":l[6]||(l[6]=e=>_.result.device.latitude=e),placeholder:""},null,8,["modelValue"]),x])),_:1})])),_:1}),s(M,{size:"small"},{default:o((()=>[s(g,null,{default:o((()=>[s(V,{modelValue:_.form.name,"onUpdate:modelValue":l[7]||(l[7]=e=>_.form.name=e)},{append:o((()=>[s(f,null,{default:o((()=>[u("查询")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),U])),_:1})])),_:1})])),_:1})])}]]);export{k as default};
