import{f as e,b as l,q as a,r as t,o as d,h as n,i as o,k as i,l as c,m as s,I as u,L as r}from"./vendor.ac52fd94.js";import{_ as p,E as h,F as m,G as g,H as f}from"./index.1d57ac4a.js";const _={name:"dictlist",data:()=>({tableH:0}),setup(){const t=e({label:"",pageIndex:1,pageSize:15});let d=e({area_levels:[]});const n=l([]),o=l(0),i=()=>{h(t).then((e=>{console.log(e.data),n.value=e.data.list,o.value=e.data.total}))};i();let c=e({is_del:"0",dict_type:"areaLevel"});m(c).then((e=>{console.log(e),d.area_levels=e.data}));const s=l(!1);let u=e({id:"",dict_type:"",label:"",dict_desc:"",dc_value:"",dq_value:"",js_value:"",jk_value:""}),p="";return{query:t,tableData:n,pageTotal:o,editVisible:s,result:d,form:u,dict:c,dialogT:"新增",handleSearch:()=>{t.pageIndex=1,i()},handlePageChange:e=>{t.pageIndex=e,i()},handleDelete:(l,t)=>{r.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{let l=e({is_del:"1",id:t.id});g(l).then((e=>{console.log(e),a.success("删除成功")})).then((()=>{i()}))})).catch((()=>{}))},handleEdit:(e,l,a)=>{a?(p="",u.id="",u.dict_type="",u.label="",u.dict_desc="",u.dc_value="",u.dq_value="",u.js_value="",u.jk_value=""):(p=l.id,Object.keys(u).forEach((e=>{u[e]=l[e]}))),s.value=!0},handleStop:(l,t)=>{r.confirm("确定要停用吗？","提示",{type:"warning"}).then((()=>{let l=e({status:"1",id:t.id});editArea(l).then((e=>{console.log(e),a.success("停用成功")})).then((()=>{i()}))})).catch((()=>{}))},saveEdit:()=>{s.value=!1,p?g(u).then((e=>{console.log(e),a.success("修改成功")})).then((()=>{i()})):f(u).then((e=>{console.log(e.data)})).then((()=>{t.pageIndex=1,i()}))},multipleSelection:[],value:!0,activeName:"first"}},created(){let e=document.documentElement.clientHeight||document.body.clientHeight;this.tableH=e-308+"px"},methods:{handleSelectionChange(e){this.selectedData=e},handleDeleteAll(){var e=this,l=this.selectedData;l?(l.forEach((function(l,a){e.tableData.forEach((function(a,t){l===a&&e.tableData.splice(t,1)}))})),a.success("删除成功"),this.$refs.multipleTable.clearSelection()):a.warning("请选择一条记录")}},mounted(){}},b={class:"container"},v={class:"handle-box"},V={class:"left-panel"},y={class:"right-panel"},C=o("div",{class:"clear"},null,-1),k={class:"pagination"},x={class:"dialog-footer"};var w=p(_,[["render",function(e,l,a,r,p,h){const m=t("el-button"),g=t("el-input"),f=t("el-table-column"),_=t("el-table"),w=t("el-pagination"),j=t("el-form-item"),S=t("el-form"),q=t("el-dialog");return d(),n("div",null,[o("div",b,[o("div",v,[o("div",V,[i(m,{type:"primary",size:"small",icon:"el-icon-plus",onClick:l[0]||(l[0]=e=>r.handleEdit(0,null,!0))},{default:c((()=>[s("添加")])),_:1}),i(m,{type:"danger",size:"small",icon:"el-icon-delete",onClick:l[1]||(l[1]=e=>h.handleDeleteAll())},{default:c((()=>[s("批量删除")])),_:1})]),o("div",y,[i(g,{onKeyup:l[2]||(l[2]=u((e=>r.handleSearch()),["enter"])),size:"small",modelValue:r.query.label,"onUpdate:modelValue":l[3]||(l[3]=e=>r.query.label=e),placeholder:"字典值",class:"handle-input mr10"},null,8,["modelValue"]),i(m,{size:"small",type:"primary",icon:"el-icon-search",onClick:r.handleSearch},{default:c((()=>[s("查询")])),_:1},8,["onClick"])]),C]),i(_,{data:r.tableData,border:"",class:"table",ref:"multipleTable","max-height":p.tableH,"header-cell-class-name":"table-header",onSelectionChange:h.handleSelectionChange},{default:c((()=>[i(f,{type:"selection",width:"55",align:"center"}),i(f,{type:"index",label:"序号",width:"55",align:"center"}),i(f,{prop:"dict_type",label:"字典类型",width:"100",align:"center"}),i(f,{prop:"label",label:"字典值",width:"100",align:"center"}),i(f,{prop:"dc_value",label:"鼎驰键值",align:"center",width:"180"}),i(f,{prop:"dq_value",label:"鼎器键值",align:"center",width:"180"}),i(f,{prop:"js_value",label:"捷顺键值",align:"center",width:"180"}),i(f,{prop:"jk_value",label:"交控键值",align:"center",width:"180"}),i(f,{prop:"dict_desc",label:"描述",align:"center"}),i(f,{label:"操作",width:"220",align:"center"},{default:c((e=>[i(m,{size:"mini",type:"text",icon:"el-icon-edit",onClick:l=>r.handleEdit(e.$index,e.row,!1)},{default:c((()=>[s("编辑 ")])),_:2},1032,["onClick"]),i(m,{size:"mini",type:"text",icon:"el-icon-delete",class:"red",onClick:l=>r.handleDelete(e.$index,e.row)},{default:c((()=>[s("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","max-height","onSelectionChange"]),o("div",k,[i(w,{background:"",layout:"total, prev, pager, next","current-page":r.query.pageIndex,"page-size":r.query.pageSize,total:r.pageTotal,onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),i(q,{title:"新增",modelValue:r.editVisible,"onUpdate:modelValue":l[12]||(l[12]=e=>r.editVisible=e),width:"30%"},{footer:c((()=>[o("span",x,[i(m,{onClick:l[11]||(l[11]=e=>r.editVisible=!1)},{default:c((()=>[s("取 消")])),_:1}),i(m,{type:"primary",onClick:r.saveEdit},{default:c((()=>[s("确 定")])),_:1},8,["onClick"])])])),default:c((()=>[i(S,{"label-width":"70px"},{default:c((()=>[i(j,{label:"字典类型"},{default:c((()=>[i(g,{modelValue:r.form.dict_type,"onUpdate:modelValue":l[4]||(l[4]=e=>r.form.dict_type=e),placeholder:"请输入字典类型"},null,8,["modelValue"])])),_:1}),i(j,{label:"字典值"},{default:c((()=>[i(g,{modelValue:r.form.label,"onUpdate:modelValue":l[5]||(l[5]=e=>r.form.label=e),placeholder:"请输入字典值"},null,8,["modelValue"])])),_:1}),i(j,{label:"鼎驰键值"},{default:c((()=>[i(g,{modelValue:r.form.dc_value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.form.dc_value=e),placeholder:"请输入鼎驰键值"},null,8,["modelValue"])])),_:1}),i(j,{label:"鼎器键值"},{default:c((()=>[i(g,{modelValue:r.form.dq_value,"onUpdate:modelValue":l[7]||(l[7]=e=>r.form.dq_value=e),placeholder:"请输入鼎器键值"},null,8,["modelValue"])])),_:1}),i(j,{label:"捷顺键值"},{default:c((()=>[i(g,{modelValue:r.form.js_value,"onUpdate:modelValue":l[8]||(l[8]=e=>r.form.js_value=e),placeholder:"请输入捷顺键值"},null,8,["modelValue"])])),_:1}),i(j,{label:"交控键值"},{default:c((()=>[i(g,{modelValue:r.form.jk_value,"onUpdate:modelValue":l[9]||(l[9]=e=>r.form.jk_value=e),placeholder:"请输入交控键值"},null,8,["modelValue"])])),_:1}),i(j,{label:"字典描述"},{default:c((()=>[i(g,{modelValue:r.form.dict_desc,"onUpdate:modelValue":l[10]||(l[10]=e=>r.form.dict_desc=e),placeholder:"请输入字典描述"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}]]);export{w as default};
