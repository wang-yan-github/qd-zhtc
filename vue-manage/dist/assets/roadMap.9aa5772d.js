import{f as e,b as t,o as a,h as n,i as o}from"./vendor.ac52fd94.js";import{i as s}from"./marker.a01ae5e8.js";import{_ as i,bQ as l}from"./index.1d57ac4a.js";const r={style:{height:"100%"}},p={id:"mapDiv",style:{height:"100%"}},d={id:"has-map",class:"has-map",ref:"has-map"};var m=i({name:"roadmap",setup(){let a=e({name:"",address:"",czroptions:[{value:"1",label:"平台管理员"},{value:"2",label:"管理员"},{value:"3",label:"车场"}],selvalue:"",radio2:"男"});const n=t([]),o=()=>{l(e({})).then((e=>{n.value=e.data}))};o();var i=null;const r=()=>{null!=i&&(i=null,this.map.destroy())},p=()=>{if(document.getElementById("has-map")){var e=[34.233609,117.20123];const t=new window.TMap.LatLng(e[0],e[1]);(i=new window.TMap.Map(document.getElementById("has-map"),{rotation:0,pitch:0,zoom:14,center:t})).setCenter(new window.TMap.LatLng(e[0],e[1]));const a=[],o=[],l=[];n.value.forEach(((e,t)=>{var n=e.name;l.push("<p style='margin:0px 0px 0px 0px;line-height:20px;font-size:14px;'>总泊位：<span style='color:#fe0808'>"+e.totalparking+"</span> <br>空泊位：<span style='color:#fe0808'>"+e.freeparking+"</span>"),a.push({styleId:"big",position:new window.TMap.LatLng(e.lat,e.lng),properties:{title:"marker1"},contents:l[t]}),o.push({id:e.id,styleId:"label",position:new window.TMap.LatLng(e.lat,e.lng),content:n,properties:{title:"label"}})}));const r=new window.TMap.MultiMarker({map:i,styles:{big:new window.TMap.MarkerStyle({width:50,height:64,anchor:{x:26,y:16},src:s,color:"#333",size:22,direction:"bottom",strokeColor:"#fff",offset:{x:0,y:10},strokeWidth:2})},geometries:a});new window.TMap.MultiLabel({id:"001",map:i,enableCollision:!0,styles:{label:new window.TMap.LabelStyle({color:"#ff0000",size:14,offset:{x:0,y:58},angle:0,alignment:"center",verticalAlignment:"center"})},geometries:o});const p=new window.TMap.InfoWindow({map:i,position:i.getCenter(),offset:{x:0,y:-32}});p.close(),r.on("click",(e=>{p.open(),p.setPosition(e.geometry.position),p.setContent(e.geometry.contents)}))}};var d=setTimeout((function(){r(),p()}),300);return{form:a,pointJson:n,map:i,timer:d,initMaps:p,clearMaps:r,getParkGPCount:o,earthquakeList:""}}},[["render",function(e,t,s,i,l,m){return a(),n("div",r,[o("div",p,[o("div",d,null,512)])])}],["__scopeId","data-v-204ff46a"]]);export{m as default};
