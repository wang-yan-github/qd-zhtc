import{i as e}from"./marker.a01ae5e8.js";import{_ as t,bx as a}from"./index.1d57ac4a.js";import{f as n,b as o,S as s,o as i,h as l,s as r,x as p,i as d}from"./vendor.ac52fd94.js";const c={name:"roadmap",setup(){let t=n({name:"",address:"",czroptions:[{value:"1",label:"平台管理员"},{value:"2",label:"管理员"},{value:"3",label:"车场"}],selvalue:"",radio2:"男"});const i=o([]),l=()=>{a(n({})).then((e=>{i.value=e.data,p(),d()}))};l();var r=null;const p=()=>{null==r&&null==r||(r=null)},d=()=>{if(document.getElementById("has-map")){var t=[34.262858,117.280228];const a=new window.TMap.LatLng(t[0],t[1]);(r=new window.TMap.Map(document.getElementById("has-map"),{rotation:0,pitch:0,zoom:14,center:a})).setCenter(new window.TMap.LatLng(t[0],t[1]));const n=[],o=[],s=[];i.value.forEach(((e,t)=>{var a=e.name;s.push("<p style='margin:0px 0px 0px 0px;line-height:20px;font-size:14px;'>总泊位：<span style='color:#fe0808'>"+e.totalparking+"</span> <br>空泊位：<span style='color:#fe0808'>"+e.freeparking+"</span>"),n.push({styleId:"big",position:new window.TMap.LatLng(e.lat,e.lng),properties:{title:"marker1"},contents:s[t]}),o.push({id:e.id,styleId:"label",position:new window.TMap.LatLng(e.lat,e.lng),content:a,properties:{title:"label"}})}));const l=new window.TMap.MultiMarker({map:r,styles:{big:new window.TMap.MarkerStyle({width:50,height:64,anchor:{x:26,y:16},src:e,color:"#333",size:22,direction:"bottom",strokeColor:"#fff",offset:{x:0,y:10},strokeWidth:2})},geometries:n});new window.TMap.MultiLabel({id:"001",map:r,enableCollision:!0,styles:{label:new window.TMap.LabelStyle({color:"#ff0000",size:14,offset:{x:0,y:58},angle:0,alignment:"center",verticalAlignment:"center"})},geometries:o});const p=new window.TMap.InfoWindow({map:r,position:r.getCenter(),offset:{x:0,y:-32}});p.close(),l.on("click",(e=>{p.open(),p.setPosition(e.geometry.position),p.setContent(e.geometry.contents)}))}};return s((()=>{console.log("****************"),r.destroy()})),{form:t,pointJson:i,map:r,getRoadGPCount:l,initMaps:d,earthquakeList:""}},beforeDestroy(){}},m={style:{height:"100%"}},w=[(e=>(r("data-v-54a15d02"),e=e(),p(),e))((()=>d("div",{id:"mapDiv",style:{height:"100%"}},[d("div",{id:"has-map",class:"has-map"})],-1)))];var f=t(c,[["render",function(e,t,a,n,o,s){return i(),l("div",m,w)}],["__scopeId","data-v-54a15d02"]]);export{f as default};
